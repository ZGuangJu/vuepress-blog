<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- <meta http-equiv="refresh" content="5"> -->
    <title>Document</title>
    <style>
        html,
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        div,
        dl,
        dt,
        dd,
        ul,
        ol,
        li,
        p,
        blockquote,
        pre,
        hr,
        figure,
        table,
        caption,
        th,
        td,
        img,
        form,
        fieldset,
        legend,
        input,
        button,
        textarea,
        menu {
            padding: 0;
            margin: 0;
        }

        .container {
            width: 800px;
            height: 300px;
            border: 1px solid blueviolet;
        }

        .c_giftList {
            width: 100%;
            height: 260px;
        }

        .c_giftMenu {
            width: 100%;
            height: 40px;
            border: 1px solid skyblue;
            line-height: 40px;
            position: relative;
        }

        .c_giftMenu .sendGift {
            width: 100px;
            height: 30px;
            font-style: 22px;
            text-align: center;
            line-height: 30px;
            letter-spacing: 5px;
            position: absolute;
            top: 5px;
            right: 5px;
        }

        .dome1 {
            width: 350px;
            height: 120px;
            border: 3px solid orange;
            display: inline-block;
            margin: 2px;
            text-align: center;
            line-height: 120px
        }

        .c_giftList #selectGift {
            border: 3px solid red;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="c_giftList">
            <!-- é€šè¿‡åå°è·å– -->
        </div>
        <div class="c_giftMenu">
            <button class="sendGift">èµ é€</button>
        </div>
    </div>
    <script>
        var giftListDiv = document.querySelector(".c_giftList");
        var sendGiftBtn = document.querySelector(".sendGift");
        var selectedItem = "";//ç”¨æˆ·é€‰ä¸­çš„ç¤¼ç‰©ï¼Œç”¨æ¥ä¿å­˜ç±»å
        var giftListArr = ["é²œèŠ±", "æ‰‹æœº", "é£æœº", "ç«ç®­"]
        var giftClass_listArr = ["Flower", "Phone", "Plane", "Huojian"]
        //    é€‰ä¸­
        for (let i = 0; i < giftListArr.length; i++) {
            var giftItemDiv = document.createElement("div");
            giftItemDiv.className = giftClass_listArr[i]
            giftItemDiv.innerHTML = giftListArr[i];
            giftItemDiv.classList.add("dome1")
            // ç»™æ¯ä¸ªç¤¼ç‰©iteméƒ½æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»æ—¶è¡¨ç¤ºé€‰ä¸­ï¼Œå†æ¬¡ç‚¹å‡»è¡¨ç¤ºå–æ¶ˆ
            giftItemDiv.onclick = function () {
                var giftListAll = document.querySelectorAll(".c_giftList div")

                for (let j = 0; j < giftListAll.length; j++) {
                    // å¦‚æœåˆ—è¡¨ä¸­ ä¸æ˜¯å½“å‰é€‰ä¸­çš„ç¤¼ç‰©
                    if (giftListAll[j] != this) {
                        // å°±æ¸…é™¤id
                        giftListAll[j].id = null;
                    }
                }
                // å¦‚æœæœªé€‰ä¸­ï¼Œå°±é€‰ä¸­
                if (this.id == "selectGift") {
                    this.id = null
                    selectedItem = null
                } else {
                    // å¦‚æœé€‰ä¸­äº†ï¼Œå–æ¶ˆé€‰ä¸­
                    this.id = "selectGift"
                    console.log(this.className.split(" ")[0])
                    selectedItem = this.className.split(" ")[0]
                    // console.log(selectedItem)
                }
            }
            giftListDiv.appendChild(giftItemDiv)

        }
        // èµ é€æŒ‰é’®
        sendGiftBtn.onclick = function () {
            // var gift
            // if (selectedItem == "Flower") {
            //     gift = new Flower()
            // } else if (selectedItem == "Phone") {
            //     gift = new Phone()

            // } else if (selectedItem == "Plane") {
            //     gift = new Plane()
            // } else if (selectedItem == "Huojian") {
            //     gift = new Huojian()
            // } else {
            //     alert("é€‰æ‹©æ­£ç¡®ç¤¼ç‰©")
            // }

            //ğŸ”ºğŸ”ºğŸ”º ä»¥ä¸Šæ–¹å¼æ˜¯æ™®é€šæ–¹å¼ï¼Œå’Œä¸‹é¢çš„æ–¹å¼åŠŸèƒ½ä¸€è‡´ï¼Œä½†æ˜¯ï¼Œä¸‹é¢çš„å·¥å‚æ¨¡å¼å¯ä»¥é™ä½è€¦åˆåº¦ï¼Œå¯ä»¥å°†å…¬å…±æ–¹æ³•å°è£… ğŸ”ºğŸ”ºğŸ”º

            // æ ¹æ®selectdItem åˆ›å»ºç›¸åº”ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå…¶sendæ–¹æ³•
            var gift = giftFactory.createGift(selectedItem)
            gift.send()
        }


        // åˆ›å»ºç¤¼ç‰©
        function Gift() { }
        Gift.prototype.send = function () {
            console.log("åœ¨é¡µé¢é€å‡ºç¤¼ç‰©" + this.getGiftName())
        }
        function Flower() {
            var gname = "é²œèŠ±"
            this.getGiftName = function () {
                return gname;
            }
        }
        function Phone() {
            var gname = "æ‰‹æœº"
            this.getGiftName = function () {
                return gname;
            }
        }
        function Plane() {
            var gname = "é£æœº"
            this.getGiftName = function () {
                return gname;
            }
        }
        function Huojian() {
            var gname = "ç«ç®­"
            this.getGiftName = function () {
                return gname;
            }
        }
        //    å»ºç«‹çˆ¶å­å…³ç³»
        Flower.prototype = new Gift()
        Phone.prototype = new Gift()
        Plane.prototype = new Gift()
        Huojian.prototype = new Gift()
        // å»ºç«‹ç¤¼ç‰©å·¥å‚æ¨¡å¼
        var giftFactory = {
            createGift: function (selectedItem) {
                var gift;
                switch (selectedItem) {
                    case "Flower":
                        gift = new Flower()
                        break
                    case "Phone":
                        gift = new Phone()
                        break
                    case "Plane":
                        gift = new Plane()
                        break
                    case "Huojian":
                        gift = new Huojian()
                        break
                    default:
                        alert("é€‰æ‹©æ­£ç¡®çš„ç¤¼ç‰©")
                        break
                }
                return gift
            }
        }

    </script>
</body>

</html>